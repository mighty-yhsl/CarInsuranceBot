# Car Insurance Telegram Bot 

Цей проєкт реалізує Telegram-бота для продажу автомобільного страхування. Бот обробляє документи (паспорт і технічний паспорт), інтегрується з Mindee API для витягнення даних і використовує OpenAI для інтелектуального спілкування. Вартість страхування фіксована — 100 USD.

## Вимоги
- [.NET 8.0 SDK](https://dotnet.microsoft.com/download/dotnet/8.0)
- Telegram Bot API Token
- Mindee API Key
- OpenAI API Key


## Розгортання
- Бот уже розгорнутий на Replit.

## Робота бота
1. `/start` — привітання, запит фото паспорта.
2. Фото паспорта → запит фото техпаспорта.
3. Фото техпаспорта → витягнення даних (Mindee API) і підтвердження.
4. Підтвердження даних → пропозиція ціни (100 USD).
5. Підтвердження ціни → видача поліса.

## Обробка помилок
Якщо з’являються помилки типу:

Виклик OpenAI API (спроба 1)...
Помилка 429 в CallOpenAI (спроба 1): Response status code does not indicate success: 429 (Too Many Requests).
Виклик OpenAI API (спроба 2)...
Помилка 429 в CallOpenAI (спроба 2): Response status code does not indicate success: 429 (Too Many Requests).
Вичерпано спроби для OpenAI.

- Це означає, що OpenAI API перевищив ліміт запитів (Too Many Requests).
- Бот використовує мок-даних (симуляцію) для продовження роботи, щоб показати функціональність.
- **Примітка**: Спочатку просили не використовувати мок-даних і зчитувати інформацію напряму з документів через Mindee API. Однак, якщо Mindee або OpenAI API недоступні (наприклад, через обмеження ключів або квоти), мок-даних не уникнути. 

## Залежності
- `Telegram.Bot` 
- `System.Text.Json` 

## Автор
- @deconyy

## Посилання на бота
- [@AutoInsBot]
